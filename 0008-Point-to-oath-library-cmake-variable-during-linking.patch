From a503a8140f88640306b71a6be0a4d794cae995a4 Mon Sep 17 00:00:00 2001
From: Ganesh Maharaj Mahalingam <ganesh.mahalingam@intel.com>
Date: Sat, 5 May 2018 17:57:57 +0000
Subject: [PATCH 8/9] Point to oath library cmake variable during linking

Signed-off-by: Ganesh Maharaj Mahalingam <ganesh.mahalingam@intel.com>
---
 src/cls/CMakeLists.txt | 2 +-
 src/rgw/CMakeLists.txt | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/cls/CMakeLists.txt b/src/cls/CMakeLists.txt
index 3e7b727b..42101e58 100644
--- a/src/cls/CMakeLists.txt
+++ b/src/cls/CMakeLists.txt
@@ -77,7 +77,7 @@ list(APPEND cls_embedded_srcs ${cls_lock_srcs} ${cls_lock_client_srcs})
 # cls_otp
 set(cls_otp_srcs otp/cls_otp.cc)
 add_library(cls_otp SHARED ${cls_otp_srcs})
-target_link_libraries(cls_otp oath)
+target_link_libraries(cls_otp ${LIBOATH_LIBRARY})
 set_target_properties(cls_otp PROPERTIES
   VERSION "1.0.0"
   SOVERSION "1"
diff --git a/src/rgw/CMakeLists.txt b/src/rgw/CMakeLists.txt
index c1edd3b8..eb4ea0ce 100644
--- a/src/rgw/CMakeLists.txt
+++ b/src/rgw/CMakeLists.txt
@@ -158,7 +158,7 @@ target_link_libraries(rgw_a librados cls_otp_client cls_lock_client cls_rgw_clie
   ${CURL_LIBRARIES}
   ${EXPAT_LIBRARIES}
   ${OPENLDAP_LIBRARIES} ${CRYPTO_LIBS}
-  oath)
+  ${LIBOATH_LIBRARY})
 
 if (WITH_RADOSGW_BEAST_FRONTEND)
   target_compile_definitions(rgw_a PUBLIC BOOST_COROUTINES_NO_DEPRECATION_WARNING)
-- 
2.17.0

