From 2aed9b887021966e4b0c0950faf0b83e670e4d24 Mon Sep 17 00:00:00 2001
From: Alberto Murillo <alberto.murillo.silva@intel.com>
Date: Thu, 18 Feb 2016 17:15:58 -0600
Subject: [PATCH 3/7] detect clearlinux init system

---
 src/ceph-detect-init/ceph_detect_init/__init__.py            |  4 ++++
 src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py | 11 +++++++++++
 2 files changed, 15 insertions(+)
 create mode 100644 src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py

diff --git a/src/ceph-detect-init/ceph_detect_init/__init__.py b/src/ceph-detect-init/ceph_detect_init/__init__.py
index a2bcc7c..0d2a675 100644
--- a/src/ceph-detect-init/ceph_detect_init/__init__.py
+++ b/src/ceph-detect-init/ceph_detect_init/__init__.py
@@ -14,6 +14,7 @@
 # GNU Library Public License for more details.
 #
 from ceph_detect_init import centos
+from ceph_detect_init import clearlinux
 from ceph_detect_init import debian
 from ceph_detect_init import exc
 from ceph_detect_init import fedora
@@ -57,6 +58,7 @@ def _get_distro(distro, use_rhceph=False):
         'redhat': centos,
         'fedora': fedora,
         'suse': suse,
+        'clearlinux': clearlinux,
     }
 
     if distro == 'redhat' and use_rhceph:
@@ -75,6 +77,8 @@ def _normalized_distro_name(distro):
         return 'suse'
     elif distro.startswith('centos'):
         return 'centos'
+    elif distro.startswith('clear linux'):
+        return 'clearlinux'
     return distro
 
 
diff --git a/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py b/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py
new file mode 100644
index 0000000..425ce50
--- /dev/null
+++ b/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py
@@ -0,0 +1,11 @@
+distro = None
+release = None
+codename = None
+
+
+def choose_init():
+    """Select a init system
+
+    Returns the name of a init system (upstart, sysvinit ...).
+    """
+    return 'systemd'
-- 
2.7.4

