From 3cc7b885d637defe2bd32ebe500285ccee2d9a37 Mon Sep 17 00:00:00 2001
From: Alberto Murillo <alberto.murillo.silva@intel.com>
Date: Thu, 18 Feb 2016 17:15:58 -0600
Subject: [PATCH] detect clearlinux init system

---
 src/ceph-detect-init/ceph_detect_init/__init__.py            |  4 ++++
 src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py | 11 +++++++++++
 2 files changed, 15 insertions(+)
 create mode 100644 src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py

diff --git a/src/ceph-detect-init/ceph_detect_init/__init__.py b/src/ceph-detect-init/ceph_detect_init/__init__.py
index b749ea0..f460084 100644
--- a/src/ceph-detect-init/ceph_detect_init/__init__.py
+++ b/src/ceph-detect-init/ceph_detect_init/__init__.py
@@ -15,6 +15,7 @@
 #
 from ceph_detect_init import alpine
 from ceph_detect_init import centos
+from ceph_detect_init import clearlinux
 from ceph_detect_init import debian
 from ceph_detect_init import exc
 from ceph_detect_init import fedora
@@ -59,6 +60,7 @@ def _get_distro(distro, use_rhceph=False):
         'ubuntu': debian,
         'linuxmint': debian,
         'centos': centos,
+        'clearlinux': clearlinux,
         'scientific': centos,
         'redhat': centos,
         'fedora': fedora,
@@ -85,6 +87,8 @@ def _normalized_distro_name(distro):
         return 'suse'
     elif distro.startswith('centos'):
         return 'centos'
+    elif distro.startswith('clear linux'):
+        return 'clearlinux'
     elif distro.startswith(('gentoo', 'funtoo', 'exherbo')):
         return 'gentoo'
     return distro
diff --git a/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py b/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py
new file mode 100644
index 0000000..425ce50
--- /dev/null
+++ b/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py
@@ -0,0 +1,11 @@
+distro = None
+release = None
+codename = None
+
+
+def choose_init():
+    """Select a init system
+
+    Returns the name of a init system (upstart, sysvinit ...).
+    """
+    return 'systemd'
-- 
2.9.3

