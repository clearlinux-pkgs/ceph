From b72c3a1eac2c4312ea4e52510a1275131b0c1770 Mon Sep 17 00:00:00 2001
From: William Douglas <william.douglas@intel.com>
Date: Fri, 2 Feb 2018 21:39:42 +0000
Subject: [PATCH] Add Clear Linux init detection

---
 src/ceph-detect-init/ceph_detect_init/__init__.py            |  4 ++++
 src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py | 11 +++++++++++
 2 files changed, 15 insertions(+)
 create mode 100644 src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py

diff --git a/src/ceph-detect-init/ceph_detect_init/__init__.py b/src/ceph-detect-init/ceph_detect_init/__init__.py
index fe0a2a78..88d0c6d6 100644
--- a/src/ceph-detect-init/ceph_detect_init/__init__.py
+++ b/src/ceph-detect-init/ceph_detect_init/__init__.py
@@ -16,6 +16,7 @@
 from ceph_detect_init import alpine
 from ceph_detect_init import arch
 from ceph_detect_init import centos
+from ceph_detect_init import clearlinux
 from ceph_detect_init import debian
 from ceph_detect_init import exc
 from ceph_detect_init import fedora
@@ -65,6 +66,7 @@ def _get_distro(distro, use_rhceph=False):
         'ubuntu': debian,
         'linuxmint': debian,
         'centos': centos,
+        'clearlinux': clearlinux,
         'scientific': centos,
         'oraclel': centos,
         'oraclevms': oraclevms,
@@ -95,6 +97,8 @@ def _normalized_distro_name(distro):
         return 'suse'
     elif distro.startswith('centos'):
         return 'centos'
+    elif distro.startswith('clear linux'):
+        return 'clearlinux'
     elif distro.startswith('oracle linux'):
         return 'oraclel'
     elif distro.startswith('oracle vm'):
diff --git a/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py b/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py
new file mode 100644
index 00000000..5009e914
--- /dev/null
+++ b/src/ceph-detect-init/ceph_detect_init/clearlinux/__init__.py
@@ -0,0 +1,11 @@
+distro = None
+release = None
+codename = None
+
+
+def choose_init():
+"""Select a init system
+
+    Returns the name of a init system (upstart, sysvinit ...).
+    """
+    return 'systemd'
-- 
2.15.1

